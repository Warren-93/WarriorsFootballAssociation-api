package mark.warren93.dev.WarriorsFootballAssociationapi.controller; import org.springframework.http.*; import org.springframework.web.bind.MethodArgumentNotValidException; import org.springframework.web.bind.annotation.*; import java.util.*;
@ControllerAdvice public class GlobalExceptionHandler{
  @ExceptionHandler(MethodArgumentNotValidException.class) public ResponseEntity<Map<String,String>> handleValidation(MethodArgumentNotValidException ex){ var errors=new java.util.HashMap<String,String>(); ex.getBindingResult().getFieldErrors().forEach(e->errors.put(e.getField(), e.getDefaultMessage())); return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(errors); }
  @ExceptionHandler(RuntimeException.class) public ResponseEntity<Map<String,String>> handleRuntime(RuntimeException ex){ return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(Map.of("error", ex.getMessage())); }
  @ExceptionHandler(Exception.class) public ResponseEntity<Map<String,String>> handleGeneral(Exception ex){ return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(Map.of("error", ex.getMessage())); }
}